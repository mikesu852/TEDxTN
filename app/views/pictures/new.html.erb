<div class="container">
	<div class="row">
		<div class="col-md-6 col-md-offset-3">
			<h1 class="h1 text-center">上傳圖片</h1>
			<%= form_for @picture, :html => {:class => "form"}  do |f| %>
				<%= f.label :name, '名稱: ' %>
				<%= f.text_field :name , :class =>"form-control" %><br><br>
				<div id="preview"></div>
			  	<%= f.file_field :image, :class => "form-control",:id => "pictureupload" %><br>
			  	<%= f.submit "上傳", :class => "btn btn-default" %>
			<% end %>
			<div class="block"></div>
		</div>
	</div>
</div>

<script type="text/javascript">
	$(function() {
	  $('#pictureupload').on('change', function(event) {
	    var files = event.target.files;
	    var image = files[0]
	    var reader = new FileReader();
	    reader.onload = function(file) {
	      var img = new Image();
	      img.src = file.target.result;
	      $('#preview').html(img);
	    }
	    reader.readAsDataURL(image);
	  });
	});
</script>